<style type="text/css">
    /* General styles for both screen display and print */
    .print-format {
        font-size: 11px !important;
    }

    .print-format th,
    .print-format td {
        vertical-align: middle !important;
    }

    .print-format th {
        font-weight: bold !important;
        text-align: center !important;
        color: #222426 !important;
    }

    .print-format table,
    .print-format table th,
    .print-format table td {
        border: 1px solid #222426 !important;
    }

    .print-format .font-weight-bold {
        font-weight: bold !important;
    }
</style>

<div class="container-fluid">
    <div class="row">
        <div class="col-xs-9 text-left">
            <div>
                Tên công ty: {%= filters.company_name %}
            </div>
            <div>
                Địa chỉ đơn vị: {%= filters.company_address || '' %}
            </div>
            <div>
                Mã số thuế: {%= filters.tax_id %}
            </div>
        </div>

        <div class="col-xs-3 text-right">
            <div>
                Ngày báo cáo
            </div>
            <div>
                {%= frappe.datetime.str_to_user(frappe.datetime.now_date()).split('-').join('/') %}
            </div>
            <div>
                {%= frappe.datetime.now_time() %}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12 text-center">
            <h2 class="font-weight-bold" style="font-size: 18px;">BÁO CÁO BÁN HÀNG CHI TIẾT</h2>

            <div>
                Từ ngày {%= frappe.datetime.str_to_user(filters.start_date).split('-').join('/') %}
                đến {%= frappe.datetime.str_to_user(filters.end_date).split('-').join('/') %}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Ngày CT</th>
                        <th>Loại hóa đơn</th>
                        <th>Số hóa đơn</th>
                        <th>Số đơn hàng</th>
                        <th>Mã sản phẩm</th>
                        <th>Tên sản phẩm</th>
                        <th>ĐVT</th>
                        <th>Giá bán</th>
                        <th>SL</th>
                        <th>Thành tiền (Chưa thuế)</th>
                        <th>Tiền thuế</th>
                        <th>Thành tiền (Sau thuế)</th>
                        <th>Mã khách hàng</th>
                        <th>Người mua</th>
                        <th>Người bán</th>
                    </tr>
                </thead>

                <tbody>
                    {% let last = data.length - 1; %}

                    {% for (let i = 0; i < last; i++) { %} <tr>
                        <td class="text-center">{%= i + 1 %}</td>
                        <td class="text-center">{%= data[i]['transaction_date'] %}</td>
                        <td>{%= data[i]['invoice_type'] %}</td>
                        <td>{%= data[i]['invoice_no'] %}</td>
                        <td>{%= data[i]['order_no'] %}</td>
                        <td>{%= data[i]['item_code'] %}</td>
                        <td>{%= data[i]['item_name'] %}</td>
                        <td class="text-center">{%= data[i]['stock_uom'] %}</td>
                        <td class="text-right">{%= format_number_js(data[i]['base_price_list_rate']) %}</td>
                        <td class="text-right">{%= format_number_js(data[i]['qty']) %}</td>
                        <td class="text-right">{%= format_number_js(data[i]['net_amount']) %}</td>
                        <td class="text-right">{%= format_number_js(data[i]['tax_amount']) %}</td>
                        <td class="text-right">{%= format_number_js(data[i]['total_amount']) %}</td>
                        <td>{%= data[i]['customer_code'] %}</td>
                        <td>{%= data[i]['customer_type'] %}</td>
                        <td>{%= data[i]['company'] %}</td>
                        </tr>
                        {% } %}

                        <tr class="font-weight-bold text-right">
                            <td colspan="10">Tổng</td>
                            <td>{%= format_number_js(data[last]['net_amount']) %}</td>
                            <td>{%= format_number_js(data[last]['tax_amount']) %}</td>
                            <td>{%= format_number_js(data[last]['total_amount']) %}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-6 text-center">
            <div><strong>Kế toán doanh thu</strong></div>
            <div><i>(Ký, họ tên)</i></div>
        </div>
        <div class="col-xs-6 text-center">
            <div><strong>Người kiểm tra</strong></div>
            <div><i>(Ký, họ tên)</i></div>
        </div>
    </div>
</div>